<div class="page-header text-center">
  <h1 class="page-title">{{ pageTitle }}</h1>
</div>

<div class="reports-container">
  <!-- KPIs Grid Layout -->
  <div class="reports-grid">
    <!-- Gráfico: m² por proyecto -->
    <div class="chart-container">
      <p-card>
        <div class="chart-wrapper">
          <p-chart 
            type="bar" 
            [data]="m2PorProyectoData" 
            [options]="horizontalBarOptions">
          </p-chart>
        </div>
      </p-card>
    </div>
    
    <!-- Gráfico: m² por cliente -->
    <div class="chart-container">
      <p-card>
        <div class="chart-wrapper">
          <p-chart 
            type="bar" 
            [data]="m2PorClienteData" 
            [options]="verticalBarOptions">
          </p-chart>
        </div>
      </p-card>
    </div>
    
    <!-- KPI: Proyecto con más m² -->
    <div class="kpi-container">
      <p-card>
        <div class="kpi-content">
          <div class="kpi-header">
            <div class="kpi-icon" style="background-color: #4361ee;">
              <i class="pi pi-trophy"></i>
            </div>
            <div class="kpi-main">
              <h3>Proyecto con más m²</h3>
              <div class="kpi-value">{{ proyectoConMasM2.nombre }}</div>
              <span class="kpi-subtitle">{{ proyectoConMasM2.m2 }} m²</span>
            </div>
            <div class="kpi-metrics" *ngIf="proyectoConMasM2.porcentaje">
              <span class="kpi-percentage">{{ proyectoConMasM2.porcentaje }}</span>
            </div>
          </div>
        </div>
      </p-card>
    </div>
    
    <!-- Gráfico: Estados de cubicaciones -->
    <div class="chart-container">
      <p-card>
        <div class="chart-wrapper donut-wrapper">
          <p-chart 
            type="doughnut" 
            [data]="cubicacionesPorEstadoData" 
            [options]="donutOptions">
          </p-chart>
          <div class="cubicacion-counters">
            <div class="counter-item counter-completed">
              <span class="counter-value">{{ estadosCubicaciones.realizadas }}</span>
              <span class="counter-label">Realizadas</span>
            </div>
            <div class="counter-item counter-active">
              <span class="counter-value">{{ estadosCubicaciones.activas }}</span>
              <span class="counter-label">Activas</span>
            </div>
            <div class="counter-item counter-rejected">
              <span class="counter-value">{{ estadosCubicaciones.rechazadas }}</span>
              <span class="counter-label">Rechazadas</span>
            </div>
          </div>
        </div>
      </p-card>
    </div>
  </div>
</div>
